"""create field:media_name

Revision ID: c1317d24b7dd
Revises: 6b3a2190e296
Create Date: 2025-07-11 19:13:04.287848

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql


# revision identifiers, used by Alembic.
revision: str = 'c1317d24b7dd'
down_revision: Union[str, Sequence[str], None] = '6b3a2190e296'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None

media_enum = postgresql.ENUM(
    'CTS', 'TSSDNews', 'CTWant', 'TaiwanNews', 'TTV', 'CTINews',
    'HongKongFreePress', 'MingPaoNews', 'SingTaoDaily', 'SCMP',
    'ChineseNewYorkTimes', 'DeutscheWelle', 'HKFreePress', 'WenWeiPo',
    'OrientalDailyNews', 'TaKungPao', 'HK01', 'InitiumMedia', 'YahooNews',
    'HKCD', 'TheEpochTimes', 'NowTV', 'ChineseBBC', 'VOC', 'HKCourtNews',
    'ICable', 'HKGovernmentNews', 'OrangeNews', 'TheStandard', 'HKEJ',
    'HKET', 'RTHK', 'TheWitness', 'InMediaHK', 'PeopleDaily',
    'XinhuaNewsAgency', 'GlobalTimes', 'CCTV', 'UnitedDailyNews',
    'LibertyTimesNet', 'ChinaTimes', 'CNA', 'TaiwanEconomicTimes',
    'PTSNews', 'CTEE', 'MyPeopleVol', 'TaiwanTimes', 'ChinaDailyNews',
    'SETN', 'NextAppleNews', 'MirrorMedia', 'NowNews', 'StormMedia',
    'TVBS', 'EBCNews', 'ETtoday', 'NewTalk', 'FTV',
    name='medianameenum'
)

def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    media_enum.create(op.get_bind())  # ðŸ›‘ Create ENUM type in DB
    op.add_column('news', sa.Column('media_name', media_enum, nullable=True))
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column('news', 'media_name')
    media_enum.drop(op.get_bind())
    # ### end Alembic commands ###
